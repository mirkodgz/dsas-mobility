import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as d}from"./index.WFquGv8Z.js";import{V as u}from"./VehicleCard.BHKanMKc.js";import"./Button.CD0yd_KG.js";function x({filters:s,setFilters:l,brands:i,categories:a}){const t=(r,n)=>{l({...s,[r]:n})};return e.jsxs("div",{className:"bg-white rounded-card shadow-soft p-6 border border-gray-100 h-full",children:[e.jsx("h3",{className:"heading-3 text-primary mb-6 uppercase tracking-wide text-lg border-b border-gray-100 pb-4",children:"Filtra la tua ricerca"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2 uppercase tracking-wide",children:"Marca"}),e.jsxs("select",{value:s.brand,onChange:r=>t("brand",r.target.value),className:"w-full bg-gray-50 border border-gray-200 rounded-lg px-4 py-3 text-gray-700 focus:outline-none focus:ring-2 focus:ring-secondary/20 focus:border-secondary transition-all appearance-none cursor-pointer",children:[e.jsx("option",{value:"",children:"Tutte le marche"}),i.map(r=>e.jsx("option",{value:r,children:r},r))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2 uppercase tracking-wide",children:"Categoria"}),e.jsxs("select",{value:s.category,onChange:r=>t("category",r.target.value),className:"w-full bg-gray-50 border border-gray-200 rounded-lg px-4 py-3 text-gray-700 focus:outline-none focus:ring-2 focus:ring-secondary/20 focus:border-secondary transition-all appearance-none cursor-pointer",children:[e.jsx("option",{value:"",children:"Tutte le categorie"}),a.map(r=>e.jsx("option",{value:r,children:r},r))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2 uppercase tracking-wide",children:"Alimentazione"}),e.jsxs("select",{value:s.fuel,onChange:r=>t("fuel",r.target.value),className:"w-full bg-gray-50 border border-gray-200 rounded-lg px-4 py-3 text-gray-700 focus:outline-none focus:ring-2 focus:ring-secondary/20 focus:border-secondary transition-all appearance-none cursor-pointer",children:[e.jsx("option",{value:"",children:"Qualsiasi"}),e.jsx("option",{value:"Diesel",children:"Diesel"}),e.jsx("option",{value:"Benzina",children:"Benzina"}),e.jsx("option",{value:"Ibrida",children:"Ibrida"}),e.jsx("option",{value:"Elettrica",children:"Elettrica"}),e.jsx("option",{value:"GPL",children:"GPL"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2 uppercase tracking-wide",children:"Cambio"}),e.jsxs("select",{value:s.transmission,onChange:r=>t("transmission",r.target.value),className:"w-full bg-gray-50 border border-gray-200 rounded-lg px-4 py-3 text-gray-700 focus:outline-none focus:ring-2 focus:ring-secondary/20 focus:border-secondary transition-all appearance-none cursor-pointer",children:[e.jsx("option",{value:"",children:"Qualsiasi"}),e.jsx("option",{value:"Manuale",children:"Manuale"}),e.jsx("option",{value:"Automatico",children:"Automatico"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-bold text-gray-700 mb-2 uppercase tracking-wide flex justify-between",children:[e.jsx("span",{children:"Canone Mensile (Max)"}),e.jsxs("span",{className:"text-secondary",children:["€ ",s.maxPrice]})]}),e.jsx("input",{type:"range",min:"200",max:"2000",step:"50",value:s.maxPrice,onChange:r=>t("maxPrice",parseInt(r.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-secondary"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mt-1",children:[e.jsx("span",{children:"€ 200"}),e.jsx("span",{children:"€ 2000+"})]})]}),e.jsx("div",{className:"pt-4",children:e.jsx("button",{onClick:()=>l({brand:"",category:"",fuel:"",transmission:"",maxPrice:2e3}),className:"w-full bg-gray-100 text-gray-600 font-bold py-3 rounded-xl hover:bg-gray-200 transition-colors uppercase tracking-wide text-sm flex items-center justify-center gap-2",children:"Reset Filtri"})})]})]})}function b({initialVehicles:s,brands:l,categories:i}){const[a,t]=d.useState({brand:"",category:"",fuel:"",transmission:"",maxPrice:2e3}),r=d.useMemo(()=>s.filter(n=>{if(a.brand&&n.brand.toLowerCase()!==a.brand.toLowerCase())return!1;if(a.category&&n.category){const o=n.category.toLowerCase().replace(/\s/g,""),c=a.category.toLowerCase().replace(/\s/g,"");if(!o.includes(c)&&!c.includes(o))return!1}return!(a.fuel&&n.fuel.toLowerCase()!==a.fuel.toLowerCase()||a.transmission&&n.transmission.toLowerCase()!==a.transmission.toLowerCase()||n.price>a.maxPrice)}),[s,a]);return e.jsxs("div",{className:"flex flex-col lg:flex-row gap-8 items-start",children:[e.jsx("div",{className:"w-full lg:w-1/4 sticky top-24",children:e.jsx(x,{filters:a,setFilters:t,brands:l,categories:i})}),e.jsxs("div",{className:"w-full lg:w-3/4",children:[e.jsx("div",{className:"flex justify-between items-center mb-6",children:e.jsxs("p",{className:"text-gray-500 text-sm font-semibold uppercase tracking-wider",children:["Trovati ",e.jsx("span",{className:"text-primary font-bold",children:r.length})," veicoli"]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.length>0?r.map((n,o)=>e.jsx("div",{className:"h-full",children:e.jsx(u,{vehicle:n})},o)):e.jsxs("div",{className:"col-span-full py-20 text-center bg-white rounded-card border-dashed border-2 border-gray-200",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-gray-50 mb-4 text-gray-400",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]})}),e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Nessun veicolo trovato"}),e.jsx("p",{className:"text-gray-500 max-w-sm mx-auto",children:"Prova a cambiare i filtri per vedere più risultati."}),e.jsx("button",{onClick:()=>t({brand:"",category:"",fuel:"",transmission:"",maxPrice:2e3}),className:"mt-6 px-6 py-2 bg-primary/10 text-primary font-bold rounded-lg hover:bg-primary/20 transition-colors",children:"Reset Filtri"})]})})]})]})}export{b as default};
